---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.13.0
  name: multiclusterglobalhubs.operator.open-cluster-management.io
spec:
  group: operator.open-cluster-management.io
  names:
    kind: MulticlusterGlobalHub
    listKind: MulticlusterGlobalHubList
    plural: multiclusterglobalhubs
    shortNames:
      - mgh
      - mcgh
    singular: multiclusterglobalhub
  scope: Namespaced
  versions:
    - name: v1alpha4
      schema:
        openAPIV3Schema:
          description:
            MulticlusterGlobalHub defines the configuration for an instance
            of the multicluster global hub.
          properties:
            apiVersion:
              description:
                "APIVersion defines the versioned schema, representing this
                object. Servers convert recognized schemas to the latest
                internal value and can reject unrecognized values. For more information, see: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources".
              type: string
            kind:
              description:
                "Kind is a string value representing the REST resource that this
                object represents. Servers infer this resource from the endpoint that you submit your requests to. Servers cannot update the resource within CamelCase. For more information, see: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds".
              type: string
            metadata:
              type: object
            spec:
              default:
                dataLayer:
                  postgres:
                    retention: 18m
              description: MulticlusterGlobalHubSpec defines the desired state of multicluster global hub. 
              properties:
                advanced:
                  description: Advanced configurations for global hub
                  properties:
                    agent:
                      description: The spec of global hub agent
                      properties:
                        resources:
                          description: Compute Resources required by this component.
                          properties:
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Limits describe the maximum amount of compute
                                resources allowed. For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Requests describe the minimum amount of
                                compute resources required. If requests are omitted for
                                a container, it defaults to the specified limits. If there are no specified limits, it defaults to an implementation-defined value.
                                For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                          type: object
                      type: object
                    grafana:
                      description: The spec of grafana
                      properties:
                        resources:
                          description: Compute Resources required by this component.
                          properties:
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Limits describes the maximum amount of compute
                                resources allowed. For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Requests describe the minimum amount of
                                compute resources required. If requests are omitted for
                                a container, it defaults to the specified limits. If there are no specified limits, it defaults to an implementation-defined value. 
                                For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                          type: object
                      type: object
                    kafka:
                      description: The spec of kafka
                      properties:
                        resources:
                          description: Compute Resources required by this component.
                          properties:
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Limits describe the maximum amount of compute
                                resources allowed. For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Requests describe the minimum amount of
                                compute resources required. If requests are omitted for
                                a container, it defaults to the specified limits. If there are no specified limits, it defaults to an implementation-defined value.
                                For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                          type: object
                      type: object
                    manager:
                      description: The spec of global hub manager
                      properties:
                        resources:
                          description: Compute Resources required by this component.
                          properties:
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Limits describe the maximum amount of compute
                                resources allowed. For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Requests describe the minimum amount of
                                compute resources required. If requests are omitted for
                                a container, it defaults to the specified limits. If there are no specified limits, it defaults to an implementation-defined value.
                                For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                          type: object
                      type: object
                    postgres:
                      description: The spec of postgres
                      properties:
                        resources:
                          description: Compute Resources required by this component.
                          properties:
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Limits describe the maximum amount of compute
                                resources allowed. For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Requests describe the minimum amount of
                                compute resources required. If requests are omitted for
                                a container, it defaults to the specified limits. If there are no specified limits, it defaults to an implementation-defined value. 
                                For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                          type: object
                      type: object
                    zookeeper:
                      description: The spec of zookeeper
                      properties:
                        resources:
                          description: Compute Resources required by this component.
                          properties:
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Limits describe the maximum amount of compute
                                resources allowed. For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              description:
                                "Requests describe the minimum amount of
                                compute resources required. If requests are omitted for
                                a container, it defaults to the specified limits. If there are no specified limits, it defaults to an implementation-defined value. 
                                For more information, see: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/".
                              type: object
                          type: object
                      type: object
                  type: object
                availabilityConfig:
                  default: High
                  description:
                    "Specifies deployment replication for improved availability.
                    Options are: Basic and High (default)"
                  type: string
                dataLayer:
                  default:
                    postgres:
                      retention: 18m
                  description: DataLayer can be configured to use a different data layer.
                  properties:
                    kafka:
                      description: KafkaConfig defines the desired state of kafka
                      properties:
                        storageSize:
                          description: Specifies the size for storage.
                          type: string
                      type: object
                    postgres:
                      default:
                        retention: 18m
                      description: PostgresConfig defines the desired state of postgres.
                      properties:
                        retention:
                          default: 18m
                          description:
                            Retention is a duration string, defining
                            how long to keep the data in the database. The recommended minimum
                            value is 1 month, and the default value is 18 months. A duration
                            string is a signed sequence of decimal numbers,
                            each with an optional fraction and a unit suffix, such as "1y6m".
                            Valid time units are "m" and "y".
                          type: string
                        storageSize:
                          description: Specifies the size for storage.
                          type: string
                      type: object
                    storageClass:
                      description: Specifies the storageClass for storage.
                      type: string
                  type: object
                enableMetrics:
                  description:
                    EnableMetrics enable the metrics for the global hub
                    kafka components
                  type: boolean
                imagePullPolicy:
                  description: Pull policy of the multicluster global hub images.
                  type: string
                imagePullSecret:
                  description: Pull secret of the multicluster global hub images.
                  type: string
                nodeSelector:
                  additionalProperties:
                    type: string
                  description: Spec of NodeSelector
                  type: object
                tolerations:
                  description: Tolerations cause all components to tolerate any taints.
                  items:
                    description:
                      The pod that this Toleration is attached to tolerates any
                      taint that matches the triple <key,value,effect>, using the matching
                      operator <operator>.
                    properties:
                      effect:
                        description:
                          "Effect" means the taint effects match one another.  "Empty"
                          means all the taint effects match. When specified, allowed values
                          are NoSchedule, PreferNoSchedule and NoExecute.
                        type: string
                      key:
                        description:
                          Key is the taint key that the toleration applies
                          to. "Empty" means all the taint keys match. If the key is "empty",
                          the operator must have the combination, "exists". "Exists" means all the values and all they keys match each other. 
                        type: string
                      operator:
                        description:
                          Operator represents a key's relationship to the
                          value. Valid operators are "exists" and "equal" with a default to "equal". "Exists" does not have a specified value, therefore, a pod
                          can tolerate all taints of a particular category.
                        type: string
                      tolerationSeconds:
                        description:
                          TolerationSeconds represent the period of time where toleration tolerates the taint. The toleration field must have the label, "effect" or "NoExecute", otherwise it is ignored. 
                          By default, the toleration field is not set, meaning it tolerates the taint indefinitely and does not evict it. Zero and negative values are treated as 0 by the system, meaning they immediately get evicted.
                        format: int64
                        type: integer
                      value:
                        description:
                          Value is the taint value that the toleration matches
                          to. If the operator is "exists", then the value must be "empty",
                          otherwise, it is only regular string.
                        type: string
                    type: object
                  type: array
              required:
                - dataLayer
              type: object
            status:
              description:
                MulticlusterGlobalHubStatus defines the observed state of
                multicluster global hub.
              properties:
                conditions:
                  description:
                    MulticlusterGlobalHubStatus defines the observed state
                    of multicluster global hub.
                  items:
                    description:
                      "Condition contains details for one aspect of the current
                      state of this API Resource: the struct. This struct is intended for direct
                      use as an array at the field path, .status.conditions.  For example,
                      \n type FooStatus struct{ // Represents the observations of a
                      foo's current state. // Known .status.conditions.type are: \"Available\",
                      \"Progressing\", and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                      // +listType=map // +listMapKey=type Conditions []metav1.Condition
                      `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\"
                      protobuf:\"bytes,1,rep,name=conditions\"` \n // other fields }"
                    properties:
                      lastTransitionTime:
                        description:
                          The lastTransitionTime is the last time the condition
                          transitioned from one status to another. This transition should be when
                          the underlying condition changed. If you do not know the time when the condition changed, then use the time when the API field changed.
                        format: date-time
                        type: string
                      message:
                        description:
                          Message is a human readable message indicating
                          details about the transition. The message can be an empty string.
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        description:
                          The observedGeneration represents the .metadata.generation
                          that the set of the condition was based upon. For example, if .metadata.generation
                          is currently 12, but the .status.conditions[x].observedGeneration
                          is 9, the condition is out of date with respect to the current
                          state of the instance.
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        description:
                          The reason contains a programmatic identifier indicating
                          the reason for the condition's last transition. Producers
                          of specific condition types define the expected values and
                          meanings for this field, and whether the values are considered
                          a guaranteed API. The value should be a CamelCase string.
                          This field cannot be empty.
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        description: status of the condition, one of True, False, Unknown.
                        enum:
                          - "True"
                          - "False"
                          - Unknown
                        type: string
                      type:
                        description:
                          The type of condition in CamelCase or in foo.example.com/CamelCase.
                          Many .condition.type values are consistent across resources,
                          such as "Available". Because arbitrary conditions can be useful, the ability to de-conflict is
                          important. For example, see .node.status.conditions. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt).
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    type: object
                  type: array
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
